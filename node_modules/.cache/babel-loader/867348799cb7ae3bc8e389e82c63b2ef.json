{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gilpr\\\\redux--material-ui--crud\\\\src\\\\components\\\\AddEditUser.js\";\nimport React, { Component } from 'react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { addEditUsers } from '../actions/userActions';\nimport { TextField, Button } from '@material-ui/core';\nimport SnackBar from './SnackBar';\n\nclass AddEditUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: {\n        id: this.props.location.state && this.props.location.state.user ? this.props.location.state.user.id : null,\n        nameLengkap: this.props.location.state.user.nameLengkap,\n        kewarganegaraan: this.props.location.state.user.kewarganegaraan,\n        posisi: this.props.location.state.user.posisi,\n        alamat: this.props.location.state.user.alamat,\n        email: this.props.location.state && this.props.location.state.user ? this.props.location.state.user.email : '',\n        phone: this.props.location.state && this.props.location.state.user ? this.props.location.state.user.phone : '',\n        website: this.props.location.state && this.props.location.state.user ? this.props.location.state.user.website : '',\n        edit: this.props.location.state && this.props.location.state.user ? this.props.location.state.edit : false\n      },\n      open: false\n    };\n    this.handleClose = this.handleClose.bind(this);\n    this.handleOpen = this.handleOpen.bind(this);\n  }\n\n  handleOpen() {\n    this.setState({\n      open: true\n    });\n  }\n\n  handleClose(event, reason) {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    this.setState({\n      open: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Route, {\n      render: ({\n        history\n      }) => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Formik, {\n        initialValues: this.state.user,\n        onSubmit: (values, actions) => {\n          setTimeout(() => {\n            // actions.handleReset();\n            history.push('/');\n            this.state.user.id ? this.props.addNewUser([{ ...values,\n              id: this.state.user.id\n            }]) : this.props.addNewUser([values]);\n          }, 100);\n        },\n        validationSchema: Yup.object().shape({\n          name: Yup.string().required('Name field is required'),\n          email: Yup.string().email('Email not valid').required('Email field is required'),\n          phone: Yup.string().required('Phone field is required').max(10).min(10),\n          website: Yup.string().notRequired()\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }\n      }, props => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit\n        } = props;\n        return /*#__PURE__*/React.createElement(\"form\", {\n          onSubmit: handleSubmit,\n          style: {\n            width: '30%',\n            margin: 'auto'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(TextField, {\n          id: \"standard-name\",\n          type: \"text\",\n          name: \"name\",\n          label: \"Name\" // Label acts like placeholder\n          ,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          value: values.name,\n          fullWidth: true,\n          margin: \"normal\",\n          variant: \"outlined\",\n          required: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }\n        }), errors.name && touched.name && /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            textAlign: 'start',\n            marginTop: '2px',\n            color: 'red'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 19\n          }\n        }, errors.name), /*#__PURE__*/React.createElement(TextField, {\n          id: \"standard-email\",\n          type: \"email\",\n          name: \"email\",\n          label: \"Email\" // Label acts like placeholder\n          ,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          value: values.email,\n          fullWidth: true,\n          margin: \"normal\",\n          variant: \"outlined\",\n          required: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }\n        }), errors.email && touched.email && /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            textAlign: 'start',\n            marginTop: '2px',\n            color: 'red'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 19\n          }\n        }, errors.email), /*#__PURE__*/React.createElement(TextField, {\n          id: \"standard-phone\",\n          type: \"text\",\n          name: \"phone\",\n          label: \"Phone Number\" // Label acts like placeholder\n          ,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          value: values.phone,\n          fullWidth: true,\n          margin: \"normal\",\n          variant: \"outlined\",\n          required: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 17\n          }\n        }), errors.phone && touched.phone && /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            textAlign: 'start',\n            marginTop: '2px',\n            color: 'red'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 19\n          }\n        }, errors.phone), /*#__PURE__*/React.createElement(TextField, {\n          id: \"standard-website\",\n          type: \"text\",\n          name: \"website\",\n          label: \"Website\" // Label acts like placeholder\n          ,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          value: values.website,\n          fullWidth: true,\n          margin: \"normal\",\n          variant: \"outlined\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }\n        }), errors.website && touched.website && /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            textAlign: 'start',\n            marginTop: '2px',\n            color: 'red'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 19\n          }\n        }, errors.website), /*#__PURE__*/React.createElement(Button, {\n          disabled: !dirty && !isSubmitting,\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          style: {\n            margin: '1em',\n            float: 'right'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 17\n          }\n        }, this.state.user.edit ? 'Update User' : 'Add User'));\n      }), /*#__PURE__*/React.createElement(SnackBar, {\n        open: this.state.open,\n        handleClose: this.handleClose,\n        variant: \"success\",\n        message: \"User Created Successfully\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nAddEditUser.propTypes = {\n  addNewUser: PropTypes.func,\n  snackBarMessage: PropTypes.string,\n  snackBarVariant: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  snackBarMessage: state.utils.message,\n  snackBarVariant: state.utils.variant\n});\n\nexport default connect(mapStateToProps, {\n  addNewUser: addEditUsers\n})(AddEditUser);","map":{"version":3,"sources":["C:/Users/gilpr/redux--material-ui--crud/src/components/AddEditUser.js"],"names":["React","Component","Formik","Yup","Route","connect","PropTypes","addEditUsers","TextField","Button","SnackBar","AddEditUser","constructor","props","state","user","id","location","nameLengkap","kewarganegaraan","posisi","alamat","email","phone","website","edit","open","handleClose","bind","handleOpen","setState","event","reason","render","history","values","actions","setTimeout","push","addNewUser","object","shape","name","string","required","max","min","notRequired","touched","errors","dirty","isSubmitting","handleChange","handleBlur","handleSubmit","width","margin","textAlign","marginTop","color","float","propTypes","func","snackBarMessage","snackBarVariant","mapStateToProps","utils","message","variant"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport { Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { addEditUsers } from '../actions/userActions';\r\nimport { TextField, Button } from '@material-ui/core';\r\n\r\nimport SnackBar from './SnackBar';\r\n\r\nclass AddEditUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: {\r\n        id: this.props.location.state && this.props.location.state.user ? this.props.location.state.user.id : null,\r\n        nameLengkap: this.props.location.state.user.nameLengkap,\r\n        kewarganegaraan: this.props.location.state.user.kewarganegaraan,\r\n        posisi: this.props.location.state.user.posisi,\r\n        alamat: this.props.location.state.user.alamat,\r\n        email: this.props.location.state && this.props.location.state.user ? this.props.location.state.user.email : '',\r\n        phone: this.props.location.state && this.props.location.state.user ? this.props.location.state.user.phone : '',\r\n        website: this.props.location.state && this.props.location.state.user ? this.props.location.state.user.website : '',\r\n        edit: this.props.location.state && this.props.location.state.user ? this.props.location.state.edit : false\r\n      },\r\n      open: false\r\n    };\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleOpen = this.handleOpen.bind(this);\r\n  }\r\n\r\n  handleOpen() {\r\n    this.setState({ open: true });\r\n  }\r\n\r\n  handleClose(event, reason){\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    this.setState({open: false});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Route render={ ({history}) => (\r\n        <div>\r\n          <Formik\r\n          initialValues={this.state.user}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              // actions.handleReset();\r\n              history.push('/');\r\n              this.state.user.id ? this.props.addNewUser([{...values, id: this.state.user.id }]) : this.props.addNewUser([values])\r\n            }, 100);\r\n          }}\r\n          validationSchema={Yup.object().shape({\r\n            name: Yup.string().required('Name field is required'),\r\n            email: Yup.string()\r\n              .email('Email not valid')\r\n              .required('Email field is required'),\r\n            phone: Yup.string()\r\n              .required('Phone field is required')\r\n              .max(10)\r\n              .min(10),\r\n            website: Yup.string().notRequired()\r\n          })}\r\n        >\r\n          {props => {\r\n            const {\r\n              values,\r\n              touched,\r\n              errors,\r\n              dirty,\r\n              isSubmitting,\r\n              handleChange,\r\n              handleBlur,\r\n              handleSubmit\r\n            } = props;\r\n            return (\r\n              <form\r\n                onSubmit={handleSubmit}\r\n                style={{ width: '30%', margin: 'auto' }}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  label=\"Name\" // Label acts like placeholder\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.name}\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                  variant=\"outlined\"\r\n                  required\r\n                />\r\n                {errors.name && touched.name && (\r\n                  <div\r\n                    style={{ textAlign: 'start', marginTop: '2px', color: 'red' }}\r\n                  >\r\n                    {errors.name}\r\n                  </div>\r\n                )}\r\n  \r\n                <TextField\r\n                  id=\"standard-email\"\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  label=\"Email\" // Label acts like placeholder\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.email}\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                  variant=\"outlined\"\r\n                  required\r\n                />\r\n                {errors.email && touched.email && (\r\n                  <div\r\n                    style={{ textAlign: 'start', marginTop: '2px', color: 'red' }}\r\n                  >\r\n                    {errors.email}\r\n                  </div>\r\n                )}\r\n  \r\n                <TextField\r\n                  id=\"standard-phone\"\r\n                  type=\"text\"\r\n                  name=\"phone\"\r\n                  label=\"Phone Number\" // Label acts like placeholder\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.phone}\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                  variant=\"outlined\"\r\n                  required\r\n                />\r\n                {errors.phone && touched.phone && (\r\n                  <div\r\n                    style={{ textAlign: 'start', marginTop: '2px', color: 'red' }}\r\n                  >\r\n                    {errors.phone}\r\n                  </div>\r\n                )}\r\n  \r\n                <TextField\r\n                  id=\"standard-website\"\r\n                  type=\"text\"\r\n                  name=\"website\"\r\n                  label=\"Website\" // Label acts like placeholder\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.website}\r\n                  fullWidth\r\n                  margin=\"normal\"\r\n                  variant=\"outlined\"\r\n                />\r\n                {errors.website && touched.website && (\r\n                  <div\r\n                    style={{ textAlign: 'start', marginTop: '2px', color: 'red' }}\r\n                  >\r\n                    {errors.website}\r\n                  </div>\r\n                )}\r\n  \r\n                <Button\r\n                  disabled={!dirty && !isSubmitting}\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  style={{ margin: '1em', float: 'right' }}\r\n                >\r\n                  {this.state.user.edit ? 'Update User' : 'Add User'}\r\n                </Button>\r\n              </form>\r\n            );\r\n          }}\r\n        </Formik>\r\n        <SnackBar\r\n          open={this.state.open}\r\n          handleClose={this.handleClose}\r\n          variant=\"success\"\r\n          message=\"User Created Successfully\"\r\n        />\r\n      </div>\r\n      )} />\r\n    );\r\n  }\r\n}\r\n\r\nAddEditUser.propTypes = {\r\n  addNewUser: PropTypes.func,\r\n  snackBarMessage: PropTypes.string,\r\n  snackBarVariant: PropTypes.string\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  snackBarMessage: state.utils.message,\r\n  snackBarVariant: state.utils.variant\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { addNewUser: addEditUsers }\r\n)(AddEditUser);\r\n"]},"metadata":{},"sourceType":"module"}